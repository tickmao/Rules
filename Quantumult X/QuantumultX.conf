// ==UserScript==
// @ConfigName        Tickmaoè‡ªç”¨çš„QXé…ç½®æ–‡ä»¶
// @Author            Tickmao
// @Feedback          è¯·é€šè¿‡é‚®ä»¶åé¦ˆé—®é¢˜ï¼šlyle.lypm@gmail.com ğŸ’¡
// @UpdateTime        2022/10/21 12:40 UTC/GMT +8
// @Function          è¯·å‚è€ƒå¯¹åº”çš„æ³¨é‡Šæˆ–Tag
// @Function          æ³¨é‡Šç¬¦å·ï¼Œå»æ‰æ­¤ç±»ç¬¦å·ï¼Œè¯¥è¡Œæ‰ä¼šç”Ÿæ•ˆ
// @MainFunction      å¼•ç”¨ç¥æœºã€ blackmatrix7å’Œlhie1é‡å†™è§„åˆ™ã€ KOP-XIAOçš„geo-checker jsè„šæœ¬ã€ip-apiæ•°æ®åº“ã€Mazeorzæ•´åˆçš„ç½‘æ˜“äº‘éŸ³ä¹è§£é”ã€GeQ1anéƒ¨åˆ†å»å¹¿å‘Šè§„åˆ™å»å¼€å±å¹¿å‘Šã€è¶…çº§VIPã€æ™ºèƒ½åˆ†æµã€å›¾æ ‡è®¢é˜…ã€æµåª’ä½“æŸ¥è¯¢ã€Boxjsè®¢é˜…ã€IOSæ›´æ–°å±è”½
// @Config            "Tickmao"è‡ªç”¨è§„åˆ™æ¨¡æ¿, æ¬¢è¿è®¿é—®æœ¬äººçš„å°ç ´ç«™ï¼š https://blog.tickmao.com/
// @ConfigURL         https://raw.githubusercontent.com/tickmao/Rules/master/Quantumult%20X/QuantumultX.conf
// ==/UserScript==

# å»ºè®®åœ¨ã€Œå…¶ä»–è®¾ç½®ã€é‡Œã€ŒGeoLite2ã€çš„ã€Œæ¥æºã€å¡«å†™ä½¿ç”¨ä¸‹é¢é“¾æ¥ã€Œä»»é€‰ä¸€ä¸ªã€ï¼Œå¹¶å¼€å¯ã€Œè‡ªåŠ¨æ›´æ–°ã€
; https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
; https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb

# è§£é”ç½‘æ˜“äº‘ç°è‰²éŸ³ä¹ï¼Œè·å–è¯ä¹¦é“¾æ¥
; https://raw.githubusercontent.com/nondanee/UnblockNeteaseMusic/master/ca.crt

# åˆ©ç”¨æè¿°æ–‡ä»¶å±è”½IOSæ›´æ–°æé†’ï¼ˆå…¼å®¹IOS13ã€14ã€15ï¼‰
; https://app.initnil.com/tvOS.mobileconfig

# Qureå›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆé»‘ç™½ï¼‰
; https://github.com/Koolson/Qure/raw/master/Other/QureLight-All.json
# Qureå›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆå½©è‰²ï¼‰
; https://github.com/Koolson/Qure/raw/master/Other/QureColor-All.json
# Orz-3å›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆmini styleï¼‰
; https://github.com/Orz-3/mini/raw/master/mini.json
# Orz-3å›¾æ ‡åº“ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ å›¾æ ‡è®¢é˜…ï¼ˆbig styleï¼‰
; https://github.com/Orz-3/mini/raw/master/Color%2B.json

[general]
# ä¸‹åˆ—è·¯å¾„å°†ä¸ç»è¿‡QuanXçš„å¤„ç†
excluded_routes=192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 17.0.0.0/8, 239.255.255.250/32, 24.105.30.129/32, 185.60.112.157/32, 185.60.112.158/32, 182.162.132.1/32

# QuanXä¼šå¯¹server_check_urlæŒ‡å®šçš„ç½‘å€è¿›è¡Œç›¸åº”æµ‹è¯•ï¼Œä»¥ç¡®è®¤èŠ‚ç‚¹çš„å¯ç”¨æ€§
server_check_url= http://www.gstatic.com/generate_204

# æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000

# ç”¨äºè®¾ç½®å›¾æ ‡æ˜¾ç¤º
profile_img_url=https://github.githubassets.com/images/modules/site/integrators/google.png

# åŠŸèƒ½å¼ºå¤§çš„è§£æå™¨ï¼Œç”¨äºå¼•ç”¨èµ„æºçš„è½¬æ¢
resource_parser_url=https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/resource-parser.js

#listä¸­çš„åŸŸåå°†ä¸ä½¿ç”¨fake-ipæ–¹å¼, å¤šä¸ªåŸŸåç”¨â€œ, â€è¿æ¥ã€‚å…¶å®ƒåŸŸååˆ™å…¨éƒ¨é‡‡ç”¨ fake-ipåŠè¿œç¨‹è§£æçš„æ¨¡å¼
dns_exclusion_list = *.cmpassport.com, *.jegotrip.com.cn, *.icitymobile.mobi, id6.me, *.pingan.com.cn, *.cmbchina.com, *.localnetwork.uop, mfs.ykimg.com*.ttf, *.icbc.com.cn

# ç”¨äºCheckèŠ‚ç‚¹IPåœ°å€(ä»¥ä¸‹geo_location_checkerä»»é€‰ä¸€ä¸ªå³å¯)
geo_location_checker=disabled
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://ghproxy.com/https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IP_API.js
;geo_location_checker=http://api.live.bilibili.com/ip_service/v1/ip_service/get_ip_addr? , https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_bili_cn.js
;geo_location_checker=http://ifconfig.co/json, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IPConfig.js
;geo_location_checker= http://extreme-ip-lookup.com/json/, https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/IPCheck.js
;geo_location_checker=http://ip-api.com/json/?lang=zh-CN, https://raw.githubusercontent.com/I-am-R-E/Functional-Store-Hub/Master/GeoLocationChecker/QuantumultX/IP-API.js

;è¿è¡Œæ¨¡å¼æ¨¡å—ï¼Œrunning_mode_trigger è®¾ç½®ï¼Œå³æ ¹æ®ç½‘ç»œè‡ªåŠ¨åˆ‡æ¢ åˆ†æµ/ç›´è¿/å…¨å±€ä»£ç† ç­‰æ¨¡å¼ã€‚
;running-mode-trigger æ¨¡å¼ä¸‹ï¼Œè·Ÿæ‰‹åŠ¨åˆ‡æ¢ç›´è¿/å…¨å±€ä»£ç† ç­‰æ•ˆï¼Œrewrite/task æ¨¡å—å§‹ç»ˆä¼šç”Ÿæ•ˆï¼Œæ¯” ssid ç­–ç•¥ç»„è®¾ç½®ç®€å•ï¼Œæ¯” ssid-suspend æ›´çµæ´»ã€‚
# > ç¬¬ä¸€ä¸ªfilterä¸º4gæ¨¡å¼å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬äºŒä¸ªfilterä¸ºå…¶ä»–wifiä¸‹å¼€å¯è§„åˆ™åˆ†æµï¼Œç¬¬ä¸‰ä¸ªwifi1ä¿®æ”¹æˆä½ è·¯ç”±å™¨ç¿»å¢™çš„wifiåå¼€å¯ç›´è¿æ¨¡å¼ï¼Œç¬¬å››ä¸ªwifi2ä¸ºä½ å…¬å¸æˆ–è€…å…¶ä»–æœ‰è·¯ç”±å™¨ç¿»å¢™çš„WiFiåèµ°ç›´è¿ï¼‰
# > é»˜è®¤å…³é—­æ ¹æ®wifiåˆ‡æ¢æ¨¡å¼ï¼Œå¦‚éœ€å¼€å¯ï¼Œåˆ é™¤ä¸‹æ–¹çš„"#"å³å¯
#running_mode_trigger=filter, filter, wifi1:all_direct, wifi2: all_direct

;ssid_suspended_listï¼Œè®© Quantumult X åœ¨ç‰¹å®š Wi-Fi ç½‘ç»œä¸‹æš‚åœå·¥ä½œ(ä»… task æ¨¡å—ä¼šç»§ç»­å·¥ä½œ)ï¼Œå¤šä¸ªWi-Fiç”¨â€œ,â€è¿æ¥
;ssid_suspended_list=Asus, Shawn-Wifi

;UDP ç™½åå•ï¼Œç•™ç©ºåˆ™é»˜è®¤æ‰€æœ‰ä¸ºç«¯å£ã€‚ä¸åœ¨udpç™½åå•åˆ—è¡¨ä¸­çš„ç«¯å£ï¼Œå°†è¢«ä¸¢å¼ƒå¤„ç†ï¼ˆè¿”å› ICMP  â€œç«¯å£ä¸å¯è¾¾â€ ä¿¡æ¯ï¼‰ã€‚
udp_whitelist=1-442, 444-65535

; UDP Dropåå•ï¼ŒåŒç™½åå•ç±»ä¼¼ï¼Œä½†ä¸ä¼šè¿”å› ICMP â€œç«¯å£ä¸å¯è¾¾â€ ä¿¡æ¯
; drop åå•ä»…å¤„ç† whiteliståå•ä¸­çš„ç«¯å£
;udp_drop_list = 1900, 80

# å‚æ•° fallback_udp_policy ä»…æ”¯æŒ v1.0.19 ä»¥åŠä¹‹åçš„ç‰ˆæœ¬ã€‚
# å‚æ•° fallback_udp_policy çš„å€¼ä»…æ”¯æŒæœ«ç«¯ç­–ç•¥ï¼ˆæœ«ç«¯ç­–ç•¥ä¸ºç»ç”±è§„åˆ™æ¨¡å—å’Œç­–ç•¥æ¨¡å—åæ‰€å‘½ä¸­çš„ç­–ç•¥ï¼Œä¾‹å¦‚ï¼šdirectã€reject ä»¥åŠèŠ‚ç‚¹ï¼›ä¸æ”¯æŒå†…ç½®ç­–ç•¥ proxy ä»¥åŠå…¶å®ƒè‡ªå®šä¹‰ç­–ç•¥ï¼‰ã€‚
fallback_udp_policy=direct

;ä¸‹åˆ—è¡¨ä¸­çš„å†…å®¹å°†ä¸ç»è¿‡ QuantumultXçš„å¤„ç†ï¼Œè®¾ç½®åå»ºè®®é‡å¯è®¾å¤‡
;excluded_routes= 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8
;icmp_auto_reply=true

;æŒ‡å®š DoH  è¯·æ±‚æ‰€ä½¿ç”¨çš„ User-Agent
;doh_user_agent=Agent/1.0

;æŒ‡å®šæœåŠ¡å™¨æµ‹è¯•æ—¶æ‰€ä½¿ç”¨çš„ User-Agent
;server_check_user_agent = Agent/1.0

// é»˜è®¤å½“ DNS å±‚é¢æŸdomain è¢«rejectæ—¶ï¼Œå°†è¿”å›loopback IPã€‚ä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‚æ•°
// ä¿®æ”¹æˆä¸º â€œno-error-no-answerâ€ï¼Œæˆ–è€… â€œnxdomainâ€
;dns_reject_domain_behavior = loopback

[task_local]
# è¯·æ‰‹åŠ¨æ·»åŠ ä¸‹é¢çš„è®¢é˜…ï¼ˆæµåª’ä½“Taskè®¢é˜…é›†åˆï¼‰
; https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/UI-Action.json
# æ„é€ è¯·æ±‚ï¼Œè„šæœ¬åŒºï¼Œè‡ªè¡Œæ‰¾åº“æ·»åŠ ã€‚
event-interaction https://raw.githubusercontent.com/KOP-XIAO/QuantumultX/master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“è§£é”æŸ¥è¯¢, img-url=arrowtriangle.right.square.system, enabled=true

[rewrite_local]
# æœ¬åœ°å¤å†™è§„åˆ™

[rewrite_remote]
#å¼•ç”¨é‡å†™è§„åˆ™
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.conf, tag=BoxJSå•†åº—ç‰ˆ@chavyleung, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>è§£é”ä¼šå‘˜
https://gist.githubusercontent.com/ddgksf/35a94372ae4271562f0139d8a80a94e5/raw/ForOwnUse.snippet, tag=å¢¨é±¼ä¸“å±VIP@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Bilibili.conf, tag=Bç«™å»å¹¿å‘Š+1080Pé«˜ç ç‡@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/UnlockVip/Spotify.conf, tag=SpotifyéŸ³ä¹VIP[éŸ³è´¨â‰¤é«˜]@app2smile, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>åº”ç”¨å»å¹¿å‘Š
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/StartUp.conf, tag=åº”ç”¨å»å¼€å±å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.qxrewrite, tag=çŸ¥ä¹å»å¹¿å‘ŠåŠä½“éªŒå¢å¼º@blackmatrix7, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/smzdm/smzdm_remove_ads.qxrewrite, tag=ä»€ä¹ˆå€¼å¾—ä¹°å»å¹¿å‘Š@blackmatrix7, update-interval=86400, opt-parser=false, enabled=true
https://github.com/app2smile/rules/raw/master/module/tieba-qx.conf, tag=ç™¾åº¦è´´å§è¶…çº§å»å¹¿å‘Š@app2smile, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Applet.conf, tag=å¾®ä¿¡å°ç¨‹åºå»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/YoutubeAds.conf, tag=æ²¹ç®¡å»å¹¿å‘Š@DivineEngine, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š@zmqcherish, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/Ximalaya.conf, tag=å–œé©¬æ‹‰é›…å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>è½¯ä»¶å¢å¼º
https://github.com/ddgksf2013/Rewrite/raw/master/Function/BaiduCloud.conf, tag=ç™¾åº¦ç½‘ç›˜å€é€Ÿ@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/zZPiglet/Task/master/UnblockURLinWeChat.conf, tag=å¾®ä¿¡è§£é”è¢«å±è”½çš„URL@zZPiglet, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/TikTok.conf, tag=Tiktokè§£é”[éœ€æ—§ç‰ˆV21]@Orz-3, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/Netflix_ratings.conf, tag=Netflixè¯„åˆ†@Orz-3, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>é€šç”¨å»å¹¿å‘Š
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=å»å¹¿å‘Šé‡å†™@blackmatrix7, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/General.conf, tag=ç¥æœºé‡å®šå‘@DivineEngine, update-interval=86400, opt-parser=false, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/Rewrite_lhie1.conf, tag=lhie1å»å¹¿å‘Š, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Quantumult/Rewrite/Block/Advertising.conf, tag=ç¥æœºå»å¹¿å‘Š, update-interval=172800, opt-parser=false, enabled=false
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/develop/Rewrite/Rewrite_NodyDa.conf, tag=NoByDaé‡å†™, update-interval=172800, opt-parser=false, enabled=false

#>>>>>>>>>>>ç½‘é¡µä¼˜åŒ–
https://github.com/ddgksf2013/Rewrite/raw/master/Html/WebAdBlock.conf, tag=å½±è§†ç½‘ç«™å»å¹¿å‘Š@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true
https://github.com/ddgksf2013/Rewrite/raw/master/Html/Q-Search.conf, tag=Safariè¶…çº§æœç´¢@ddgksf2013, update-interval=86400, opt-parser=false, enabled=true

#>>>>>>>>>>>å…¶ä»–é‡å†™
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/JD_TB_price.conf, tag=æ¯”ä»·è„šæœ¬@Orz-3, update-interval=86400, opt-parser=false, enabled=false
https://github.com/ddgksf2013/Rewrite/raw/master/Function/BilibiliAutoRegion.conf, tag=Bç«™æ¢åŒºè„šæœ¬[ä¸ä¼šé…ç½®boxjsè¯·å‹¿å‹¾é€‰]@NobyDa, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/id77/QuantumultX/master/rewrite/Youtube_CC.conf, tag=æ²¹ç®¡å­—å¹•ç¿»è¯‘@id77, update-interval=86400, opt-parser=false, enabled=false
https://raw.githubusercontent.com/w37fhy/QuantumultX/master/QuantumultX_Cookie.conf, tag=è·å–Cookieåˆé›†ï¼ˆè·å–å®Œå°±ç¦ç”¨ï¼‰, update-interval=172800, opt-parser=true, enabled=false

#>>>>>>>>>>>iRingo è§£é”å®Œæ•´çš„AppleåŠŸèƒ½å’Œé›†æˆæœåŠ¡
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/TestFlight.qxrewrite?raw=true, tag=ï£¿ iRingo for TestFlight, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/Siri.qxrewrite?raw=true, tag=ï£¿ iRingo for Siri & Search, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/Location.qxrewrite?raw=true, tag=ï£¿ iRingo for Location Services, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/Weather.qxrewrite?raw=true, tag=ï£¿ iRingo for Apple Weather, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/TV.qxrewrite, tag=ï£¿ iRingo for TV, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/qxrewrite/News.qxrewrite, tag=ï£¿ iRingo for News, update-interval=172800, opt-parser=false, enabled=true

[server_local]
# æœ¬åœ°æœåŠ¡å™¨éƒ¨åˆ†, è‡ªè¡Œæ·»åŠ å³å¯
# ä»¥ä¸‹ç¤ºèŒƒéƒ½æ˜¯ ip(åŸŸå):ç«¯å£ï¼Œ
# æ¯”å¦‚ vmess-a.203.167.55.4:777 ï¼Œå®é™…æ˜¯ 203.167.55.4:777
# å‰é¢çš„ ss-aï¼Œws-tlsè¿™äº›ï¼Œåªæ˜¯ä¸ºäº†è®©ä½ å¿«é€Ÿæ‰¾åˆ°è‡ªå·±èŠ‚ç‚¹çš„ç±»å‹
# å®é™…ä½¿ç”¨æ—¶ï¼Œè¯·ä¸è¦çœŸçš„ å‚»ä¹ä¹çš„ å†™ vmess-a.203.167.55.4:777 è¿™ç§ã€‚

#shadowsocksä»¥åŠshadowsocksRç±»å‹
;shadowsocks=ss-a.example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, server_check_url=http://www.apple.com/generate_204, tag=Sample-A
;shadowsocks=ss-b.example.com:80, method=chacha20, password=pwd, obfs=http, obfs-host=bing.com, obfs-uri=/resource/file, fast-open=false, udp-relay=false, tag=Sample-B
;shadowsocks=ss-c.example.com:443, method=chacha20, password=pwd, obfs=tls, obfs-host=bing.com, fast-open=false, udp-relay=false, tag=Sample-C
;shadowsocks=ssr-a.example.com:443, method=chacha20, password=pwd, ssr-protocol=auth_chain_b, ssr-protocol-param=def, obfs=tls1.2_ticket_fastauth, obfs-host=bing.com, tag=Sample-D
;shadowsocks=ws-a.example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=Sample-E
;shadowsocks=ws-b.example.com:80, method=aes-128-gcm, password=pwd, obfs=ws, fast-open=false, udp-relay=false, tag=Sample-F
;shadowsocks=ws-tls-a.example.com:443, method=aes-128-gcm, password=pwd, obfs=wss, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=Sample-G

# vmess ç±»å‹ï¼Œwsï¼Œwss(ws+tls),over-tls,tcp
;ws ç±»å‹
;vmess=ws-c.example.com:80, method=chacha20-ietf-poly1305, password= 23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=ws-c.example.com, obfs=ws, obfs-uri=/ws, fast-open=false, udp-relay=false, tag=Sample-H
; wss(ws+tls) ç±»å‹
;vmess=ws-tls-b.example.com:443, method=chacha20-ietf-poly1305, password= 23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=ws-tls-b.example.com, obfs=wss, obfs-uri=/ws, tls-verification=true,fast-open=false, udp-relay=false, tag=Sample-I
; tcp ç±»å‹
;vmess=vmess-a.example.com:80, method=aes-128-gcm, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=Sample-J
;vmess=vmess-b.example.com:80, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, fast-open=false, udp-relay=false, tag=Sample-K
; over-tls ç±»å‹
;vmess=vmess-over-tls.example.com:443, method=none, password=23ad6b10-8d1a-40f7-8ad0-e3e35cd32291, obfs-host=vmess-over-tls.example.com, obfs=over-tls, tls-verification=true, fast-open=false, udp-relay=false, tag=Sample-L

; http ç±»å‹
;http=http.example.com:80, username=name, password=pwd, fast-open=false, udp-relay=false, tag=http
;http=https.example.com:443, username=name, password=pwd, over-tls=true, tls-verification=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=http-tls

; trojan ç±»å‹
;trojan=example.com:443, password=pwd, over-tls=true, tls-verification=true, fast-open=false, udp-relay=false, tag=trojan-tls-01
;trojan=192.168.1.1:443, password=pwd, over-tls=true, tls-host=example.com, tls-verification=true, fast-open=false, udp-relay=false, tag=trojan-tls-02

[server_remote]
# èŠ‚ç‚¹è¿œç¨‹è®¢é˜…
https://raw.githubusercontent.com/yawenchim/QuantumultX-mix/master/unlock/NeteaseUnlock.list, tag=ç½‘æ˜“äº‘è§£é”ç°è‰²éŸ³ä¹, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Netease_Music_Unlock.png, update-interval=86400, opt-parser=true, enabled=true

[dns]
# ç¦ç”¨ç³»ç»Ÿ DNS
# ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä¼šä½¿ç”¨ä»å½“å‰ç½‘ç»œ(ç³»ç»Ÿ)ä¸­è·å–çš„ DNS æœåŠ¡å™¨(æ‚¨å¯ä»¥ä½¿ç”¨ã€Œno-systemã€ç¦ç”¨æ­¤åŠŸèƒ½ï¼Œä½†è‡³å°‘è¦å¢åŠ ä¸€ä¸ªè‡ªå®šä¹‰çš„ DNS æœåŠ¡å™¨ã€‚
no-system

# ç¦ç”¨ IPv6
no-ipv6

# DNS over HTTPS
# å½“ DoH æœåŠ¡å™¨è¢«è®¾ç½®æ—¶ï¼Œæ‰€æœ‰å…¶ä»–æ™®é€šçš„ï¼ˆæ²¡æœ‰ä¸ä¹‹ç›¸å…³çš„ç‰¹å®šåŸŸï¼‰æœåŠ¡å™¨å°†è¢«å¿½ç•¥ã€‚
# å½“è®¾ç½®äº†å¤šä¸ª DoH æœåŠ¡å™¨æ—¶ï¼Œåªæœ‰ç¬¬ä¸€ä¸ªä¼šè¢«ä½¿ç”¨ã€‚
# å½“ä½¿ç”¨çš„ DoH æœåŠ¡å™¨ä¸æ˜¯åŸºäº HTTP/2 æ—¶ï¼ŒDoH å°†è¢«æš‚æ—¶ç¦ç”¨ï¼Œå¹¶ä½¿ç”¨å¸¸è§„æœåŠ¡å™¨ï¼Œç›´åˆ°ä¸‹æ¬¡å¯åŠ¨ VPN è¿æ¥ã€‚
# ä¸å»ºè®®åœ¨ä¸é˜²ç«å¢™ç›¸å…³çš„ç½‘ç»œç¯å¢ƒä¸­ä½¿ç”¨ï¼Œä¸ç¡®å®š DoH æœåŠ¡å™¨æ˜¯å¦æ€»èƒ½è¢«åˆ°è¾¾ã€‚
# å¦‚æœ DoH æœåŠ¡å™¨åœ¨æ‚¨çš„å›½å®¶æˆ–åœ°åŒºä¸æ˜¯æµè¡Œçš„ DNS æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼Œå®ƒå¯èƒ½ä¼šä¸¢å¤± ISP DNS æœåŠ¡å™¨è¿”å›çš„ CDN ä¼˜åŒ–ç»“æœã€‚
# å¦‚æœ DoH æœåŠ¡å™¨æ˜¯ä¸€ä¸ªåå¹¿å‘Šç›¸å…³çš„æœåŠ¡å™¨ï¼Œåˆ™ä¸æ¨èä½¿ç”¨ï¼ˆQuantumult X è¿‡æ»¤æ¨¡å—å¯¹äºè¢«æ‹’ç»çš„åŸŸå…·æœ‰æ›´å¥½çš„æ€§èƒ½ï¼Œå®ƒå¯ä»¥é¿å…å®¢æˆ·ç«¯æ— ä¼‘æ­¢çš„è¯·æ±‚ï¼‰ã€‚
;doh-server=https://dns.alidns.com/dns-query
;doh-server=https://223.6.6.6/dns-query
#prefer-doh3
#doh-server = https://223.5.5.5/dns-query, https://223.6.6.6/dns-query

# æœ¬åœ° DNS æ˜ å°„
server=119.29.29.29
server=223.5.5.5
server=1.2.4.8
server=202.141.162.123
server=114.114.114.114

# Firebase Cloud Messaging
address=/mtalk.google.com/108.177.125.188

# Google Dl
server=/dl.google.com/119.29.29.29
server=/dl.l.google.com/119.29.29.29
server=/update.googleapis.com/119.29.29.29

# PlayStation
server=/*.dl.playstation.net/119.29.29.29

#æŒ‡å®šåŸŸåè§£ædns
server=/*.taobao.com/223.5.5.5
server=/*.tmall.com/223.5.5.5
server=/*.alipay.com/223.5.5.5
server=/*.alicdn.com/223.5.5.5
server=/*.aliyun.com/223.5.5.5
server=/*.jd.com/119.29.29.29
server=/*.qq.com/119.29.29.29
server=/*.tencent.com/119.29.29.29
server=/*.weixin.com/119.29.29.29
server=/*.bilibili.com/119.29.29.29
server=/hdslb.com/119.29.29.29
server=/*.163.com/119.29.29.29
server=/*.126.com/119.29.29.29
server=/*.126.net/119.29.29.29
server=/*.127.net/119.29.29.29
server=/*.netease.com/119.29.29.29
server=/*.mi.com/119.29.29.29
server=/*.xiaomi.com/119.29.29.29

# Router Admin Panel
server=/amplifi.lan/system
server=/router.synology.com/system
server=/sila.razer.com/system
server=/router.asus.com/system
server=/routerlogin.net/system
server=/orbilogin.com/system
server=/www.LinksysSmartWiFi.com/system
server=/LinksysSmartWiFi.com/system
server=/myrouter.local/system
server=/www.miwifi.com/system
server=/miwifi.com/system
server=/mediarouter.home/system
server=/tplogin.cn/system
server=/tplinklogin.net/system
server=/melogin.cn/system
server=/falogin.cn/system

# Apple TestFlight
server=/*testflight.apple.com/8.8.4.4

[policy]
#ç­–ç•¥ç»„
# å…¶ä¸­ Apple Update ä¸ºå±è”½iOSç³»ç»Ÿæ›´æ–°çš„ç­–ç•¥ç»„ï¼Œé»˜è®¤ä¿æŒç›´è¿ï¼Œå¦‚æœ‰éœ€è¦å±è”½ï¼Œè¯·åœ¨ç­–ç•¥ç»„é¢æ¿è‡ªè¡Œåˆ‡æ¢è‡³REJECTï¼›
# CNMedia åˆ†æµä¸ºä¸­å›½åª’ä½“ï¼ˆåŒ…æ‹¬Aç«™ã€Bç«™ã€çˆ±å¥‡è‰ºç­‰ï¼‰ï¼›GBMedia ä¸ºå›½é™…åª’ä½“ï¼ˆåŒ…æ‹¬HULUã€HBOç­‰ï¼‰ï¼›
# Mainland ä¸ºè®¿é—®å¤§éƒ¨åˆ†å¤§é™†ç½‘ç«™æ—¶çš„åˆ†æµç­–ç•¥ï¼›Outside æŒ‡å®šè®¿é—®å¢ƒå¤–ç½‘ç«™æ—¶çš„åˆ†æµï¼›
# Others ä¸ºå…¶ä»–è§„åˆ™ï¼Œè‹¥å‰è¾¹çš„è§„åˆ™éƒ½æ²¡æœ‰è¢«åŒ¹é…åˆ°ï¼Œåˆ™å¬ä»æ­¤ç­–ç•¥ç»„çš„è§„å®šã€‚
# ç­–ç•¥æƒ³èµ°ç‰¹å®šèŠ‚ç‚¹æˆ–å¥—å¨ƒï¼Œè¯·é•¿æŒ‰åˆ†æµç­–ç•¥ç»„è‡ªè¡Œæ·»åŠ èŠ‚ç‚¹/ç­–ç•¥ç»„
url-latency-benchmark=Auto, server-tag-regex=^((?!(music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|ç½‘æ˜“äº‘|äº‘éŸ³ä¹|Music|Netease|ğŸ¶|ä¸“çº¿|æ‰‹æ¸¸|æ¸¸æˆ|(?i)IPLC|IEPL|game)).)*$, check-interval=300, tolerance=10, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
static=NetEaseMusic, direct, proxy, server-tag-regex=(?=.*(music|ğŒğ®ğ¬ğ¢ğœ|Unbolck|ç½‘æ˜“äº‘|ç½‘æ˜“|äº‘éŸ³ä¹|Music|Netease|ğŸ¶|è§£é”)), img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netease_Music.png
static=Mainland, direct, Auto, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Domestic.png
static=Outside, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png
static=CNMedia, direct, Auto, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/DomesticMedia.png
static=GBMedia, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/ForeignMedia.png
static=Instagram, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Instagram.png
static=TikTok, direct, Auto, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok_1.png
static=YouTube, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
static=Spotify, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
static=Netflix, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Netflix_Letter.png
static=Telegram, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
static=Google, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
static=Steam, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
static=Apple Update, direct, Auto, reject, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple_Update.png
static=Apple, direct, Auto, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
static=Microsoft, direct, Auto, proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
static=AdBlock, reject, Auto, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png
static=Speedtest, direct, Auto, proxy,  img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Speedtest.png
static=Others, Auto, proxy, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png

[filter_remote]
# è¿œç¨‹åˆ†æµè§„åˆ™ç­–ç•¥ç»„
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Apple/Apple.list, tag=Apple (AppleæœåŠ¡), force-policy=Apple, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/NetEaseMusic/NetEaseMusic.list, tag=NetEaseMusic (è§£é”ç½‘æ˜“äº‘ç°è‰²éŸ³ä¹), force-policy=NetEaseMusic, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Advertising/Advertising.list, tag=AdBlock (å¹¿å‘Šæ‹¦æˆª), force-policy=AdBlock, update-interval=172800, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaMedia/ChinaMedia.list, tag=CNMedia (å¤§é™†æµåª’ä½“), force-policy=CNMedia, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Instagram/Instagram.list, tag=Instagram, force-policy=Instagram, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, force-policy=TikTok, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/YouTube/YouTube.list, tag=YouTubeï¼ˆæ²¹ç®¡ï¼‰, force-policy=YouTube, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list, tag=Netflixï¼ˆå¥ˆè²ï¼‰, force-policy=Netflix, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotifyï¼ˆå£°ç”°éŸ³ä¹ï¼‰, force-policy=Spotify, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=GBMedia (å¢ƒå¤–æµåª’ä½“), force-policy=GBMedia, update-interval=172800, opt-parser=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Steam/Steam.list, tag=Steam, force-policy=Steam, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list, tag=Telegramï¼ˆç”µæŠ¥ï¼‰, force-policy=Telegram, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoftï¼ˆå¾®è½¯å¹³å°ï¼‰, force-policy=Microsoft, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Speedtest/Speedtest.list, tag=Speedtestï¼ˆæµ‹é€Ÿå¹³å°ï¼‰, force-policy=Speedtest, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list, tag=Google (å…¨å®¶æ¡¶), force-policy=Google, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Global/Global.list, tag=Outside (å¢ƒå¤–ç½‘ç«™), force-policy=Outside, update-interval=172800, opt-parser=false, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/China/China.list, tag=Mainland (å¤§é™†ç½‘ç«™), force-policy=Mainland, update-interval=172800, opt-parser=false, enabled=true

[filter_local]
# æœ¬åœ°åˆ†æµè§„åˆ™(ç›¸åŒè§„åˆ™ä¸‹ï¼Œæœ¬åœ°è§„åˆ™å°†è¦†ç›–è¿œç¨‹è§„åˆ™ï¼Œä¼˜å…ˆç”Ÿæ•ˆ)
# çŸ¥ä¹ADå±è”½,ä»¥ä¸‹è§„åˆ™è¯·æ”¾ç½®åœ¨filter_localæœ€é¡¶éƒ¨
DOMAIN,118.89.204.198,REJECT
DOMAIN-KEYWORD,118.89.204.198,REJECT
IP-CIDR,118.89.204.198/32,REJECT
DOMAIN,appcloud2.in.zhihu.com,REJECT
HOST,mqtt.zhihu.com,reject
HOST,sugar.zhihu.com,reject
USER-AGENT,AVOS*,REJECT

# Bç«™è‡ªåŠ¨æ¢åŒº
ip-cidr, 203.107.1.1/24, reject
# ç»•è¿‡ä¼ä¸šè¯ä¹¦è¿‡æœŸ
host, ocsp.apple.com, reject

# å±è”½ç³»ç»Ÿæ›´æ–°
host, ns.itunes.apple.com, Apple Update
host, appldnld.apple.com, Apple Update
host, mesu.apple.com, Apple Update
host, xp.apple.com, Apple Update
host, gdmf.apple.com, Apple Update

# > è´´å§å±è”½åŸŸådnsæŸ¥è¯¢
ip-cidr, 180.76.76.200/32, reject

# é¿å…è¿…é›·ç‰ˆæƒé—®é¢˜
host, hub5idx.v6.shub.sandai.net, reject
host, hub5emu.v6.shub.sandai.net, reject
host, hub5btmain.v6.shub.sandai.net, reject

# é“¶è¡Œ
HOST-SUFFIX,95599.cn,direct
HOST-SUFFIX,abchina.com,direct
HOST-SUFFIX,bscabank.com,direct
HOST-SUFFIX,openaboc.cn,direct
HOST-SUFFIX,openaboc.com,direct
HOST-SUFFIX,openaboc.com.cn,direct

# > ä¸€äº›æ¯”è¾ƒå®¹æ˜“å¿½è§†çš„åˆ†æµ
host, sdkapp.uve.weibo.com, direct
host-suffix, u3.ucweb.com, reject
host, ad.12306.cn, direct

# å…¶ä»–
host-suffix, local, direct
host-keyword, merlinblog, proxy
host-keyword, dogess, proxy
host-keyword, cylink, proxy
host-keyword, kcssr, proxy
host-keyword, stc-clubs, proxy
host-keyword, tsubakitokanako, proxy
host-suffix, api.crisp.chat, proxy
host-suffix, app.crisp.im, proxy
host-suffix, app.relay.crisp.chat, proxy
host-suffix, crisp.chat, proxy
host-suffix, client.crisp.chat, proxy
host-suffix, client.relay.crisp.chat, proxy
host-suffix, image.crisp.chat, proxy
host-suffix, plugins.crisp.chat, proxy
host-suffix, storage.crisp.chat, proxy
host-suffix, world.crisp.help, proxy
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 100.64.0.0/10, direct
ip-cidr, 224.0.0.0/4, direct
ip6-cidr, fe80::/10, direct
geoip, cn, direct
final, Others

[http_backend]
# BoxJSæ”¹ä¸ºä½¿ç”¨http backendæ–¹å¼ï¼Œè®¿é—®åœ°å€æ”¹ä¸ºhttp://127.0.0.1:9999ï¼Œæ›´æ–°é…ç½®åè¯·é•¿æŒ‰å³ä¸‹è§’åŠŸèƒ½é”®ç„¶åå†æŒ‰å·¦ä¸‹è§’çš„æ›´æ–°æŒ‰é’®ï¼Œæ¥ç€é‡å¯ä»£ç†ä¹‹åå†å¼€å¯backendå¼€å…³
# BoxJsç›¸å…³æ•™ç¨‹å‚è€ƒ https://chavyleung.gitbook.io/boxjs/
https://raw.githubusercontent.com/chavyleung/scripts/master/chavy.box.js, tag=BoxJS, path=^/, enabled=true

[mitm]
# ä»¥ä¸‹ä¸ºè¯ä¹¦&ä¸»æœºåéƒ¨åˆ†
;ä»¥ä¸‹æ¨¡å—å»æ‰;æ‰ç”Ÿæ•ˆ
;è¯·è‡ªè¡Œåœ¨ APP çš„UIä¸­ ç”Ÿæˆè¯ä¹¦ å¹¶å®‰è£…&ä¿¡ä»»ï¼ˆğŸ’¡è¯·æŒ‰ç¡®ä¿ç…§æ–‡å­—æç¤ºæ“ä½œğŸ’¡ï¼‰
skip_validating_cert = true
force_sni_domain_name = false

;hostname ä¸ºä¸»æœºåï¼Œç”¨,åˆ†éš”å¤šä¸ª
;hostname = *.example.com, *.sample.com
hostname = -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com

//ä»¥ä¸‹ä¸ºè¯ä¹¦å‚æ•°ï¼Œå¯å»UIç•Œé¢è‡ªè¡Œç”Ÿæˆå¹¶å®‰è£…è¯ä¹¦ï¼Œä¼šåœ¨æ­¤ç”Ÿæˆå¯¹åº”ä¿¡æ¯
;passphrase =
;p12 =
